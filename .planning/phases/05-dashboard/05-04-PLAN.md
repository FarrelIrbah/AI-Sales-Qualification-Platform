---
phase: 05-dashboard
plan: 04
type: execute
wave: 4
depends_on: ["05-03"]
files_modified: []
autonomous: false

must_haves:
  truths:
    - "All 10 DASH requirements are functionally verified"
    - "Dashboard is the main landing page for users with analyzed leads"
    - "Full user flow works: view leads -> filter -> expand -> copy/export -> archive -> re-analyze"
---

<objective>
Verify the complete dashboard phase end-to-end. User walks through all dashboard functionality to confirm requirements are met.

Purpose: Human verification of the full dashboard experience before marking phase complete.
Output: Confirmation that all DASH-01 through DASH-10 requirements pass.
</objective>

<execution_context>
@C:\Users\farre\.claude/get-shit-done/workflows/execute-plan.md
@C:\Users\farre\.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/05-dashboard/05-01-SUMMARY.md
@.planning/phases/05-dashboard/05-02-SUMMARY.md
@.planning/phases/05-dashboard/05-03-SUMMARY.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Run build and apply migration</name>
  <files></files>
  <action>
    1. Run `npm run build` to verify the full project compiles without errors
    2. Apply migration 0005 if not already applied: run it via Supabase SQL editor or psql
    3. Run `npm run dev` to start the dev server
    4. Verify no console errors on /dashboard load
  </action>
  <verify>
    `npm run build` exits 0. Dev server starts. /dashboard loads without console errors.
  </verify>
  <done>
    Build passes. Dev server running. Dashboard page loads clean.
  </done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>Complete dashboard with lead management: card grid, expanding detail, filters, CSV export, clipboard copy, archive, and re-analyze.</what-built>
  <how-to-verify>
    With at least 2-3 analyzed leads in the database, verify:

    1. **DASH-01 - Lead list:** Visit /dashboard. Confirm leads display as cards sorted by score (highest first). Each card shows score (color-coded), company name, industry, ICP match %, and pitch angle preview.

    2. **DASH-02 - Detail view:** Click a lead card. Confirm it expands in-place showing key metrics bar and 4 collapsible sections (Score Breakdown, Company Insights, Pitch Angles, Objections). Click each section to verify content matches the analysis. Click another card to verify the first collapses.

    3. **DASH-03 - Score filter:** Click Hot/Warm/Cold toggles. Verify only leads in that score range appear.

    4. **DASH-04 - ICP filter:** Set ICP match min/max. Verify leads filter correctly.

    5. **DASH-05 - Industry filter:** Select an industry from dropdown. Verify only matching leads show.

    6. **DASH-06 - Date filter:** Set date range. Verify leads filter by analysis date. Refresh page - confirm filters persist in URL.

    7. **DASH-07 - CSV export:** Click three-dot menu on a card -> "Export as CSV". Verify .csv file downloads with correct columns. Also test the bulk "Export" button to export all visible leads.

    8. **DASH-08 - Clipboard copy:** Click three-dot menu -> "Copy to Clipboard". Paste into a text editor. Verify it contains company name, score, insights, pitch angles, and objections in plain text format.

    9. **DASH-09 - Archive:** Click three-dot menu -> "Archive". Verify lead disappears from list. Toggle "Show archived" to verify it appears there. Unarchive it and verify it returns to active list.

    10. **DASH-10 - Re-analyze:** Click three-dot menu -> "Re-analyze". Verify it navigates to /analyze with the company URL pre-filled.

    Report any issues found.
  </how-to-verify>
  <resume-signal>Type "approved" to mark Phase 5 complete, or describe issues to fix.</resume-signal>
</task>

</tasks>

<verification>
All 10 DASH requirements verified by human walkthrough.
</verification>

<success_criteria>
- Human confirms all 10 DASH requirements pass
- No console errors, no broken layouts
- Filters combine correctly and persist in URL
- Export and clipboard produce correct output
- Archive/unarchive cycle works
- Re-analyze navigates correctly
</success_criteria>

<output>
After completion, create `.planning/phases/05-dashboard/05-04-SUMMARY.md`
</output>
